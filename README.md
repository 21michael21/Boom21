# Разработка системы учета недвижимости.


# Содержание

[Введение](#introduction)

[1 Описание предметной области](#domainDescription)

[2 Сравнительный анализ ](#existingSoftware)

[3 Проектирование системы](#Systemdesign)

[4 Проверка и тестирование системы](#Checkingandtestingthesystem)

[Заключение](#Conclusion)

[Список литературы](#Listofliterature)

<a name="introduction"/> 

## Введение
В данном отчёте рассматривается разработка "Система учета агентство недвижимости". Система предназначена для введения систематизированного учета недвижимости. 
Покупка или продажа недвижимости должна происходить быстро и качественно, для этого и нужна система учета агентство недвижимости.

 
# 1 Описание предметной области
 Предметная область - "Система учета агентство недвижимости". Это область состоит из нескольких основных частей.
 Два основных аспекта предметной области.[<sup>[1.1]</sup>](#sourse_1.1)

Первая - это учет недвижимости. Учет не должен противоречить следующим общим правилам:
- недвижимость необходима для ведения основной деятельности нашей фирмы (продажа продукции, оказание услуг);
- объект эксплуатируется дольше года;
- фирма не планирует перепродажу;
- предполагается, что объект будет приносить финансовую выгоду; 

Второе - это особенности учета объектов у продавца. Если недвижимость была продана, ее стоимость списывается с учета. 
Выручка от реализации признается если: 
- у фирмы-продавца есть право собственности на объект, подтвержденное документами;
- сумма выручки от продажи известна;
- есть признаки того, что фирма получит экономическую выгоду от реализации;
- покупатель получил право собственности на объект.
 
 <a name="domainDescription"/>
 
 **Актуальность системы** 
 
В настоящее время большинству людей приходиться сталкиваться с проблемой покупки или продажи недвижимости с огромным количеством тягостной работы, такой как сортировка данных в договоре, денежный учет и оформление договора в ручную. Из этого вытекает множества минусов, такие как затрачивание достаточно большого количества времени и сил на всю сортировку документов и всевозможные утраты денежного ресурса. Но, если бы существовала система систематизированного учета недвижимости, то можно было бы сократить растрату человеческих ресурсов и повысить производительность, так как у системы есть систематизированность и учет всех данных. Так же с помощью простого интерфейса эта система является доступной для большинства.
 Информационная система необходима для того, чтобы все покупки и продажи недвижимости происходили систематизировано. Это поможет определить затраты и прибыль от заключённых договоров.
 В настоящее время происходят тысячи покупок и продаж какой-либо недвижимости. Это доказывает, что система актуальна.

Разработка системы учета недвижимости.
Эта работа показывает, как в интернете проходит покупка и продажа недвижимости, так же она покажет основные моменты этого рода занятий.

Показывает возможности клиента, продавца и возможности агента недвижимости. Эта система из за своего интерфейса является доступной для большинства пользователей интернета, даже тем кто полностью не разбирается в недвижимости. Она достаточно проста и в этом ее преимущество.




# 2. Сравнительный анализ

<a name="existingSoftware"/>

Существует множество различных систем учета недвижимости. Первым шагом к объединению систем учета и регистрации недвижимости в России послужило принятие в 2007 году Федерального закона от 24 июля 2007 г. № 221-ФЗ. Но и до этого момента в мире существовали различные системы учета недвижимости и вместе с ней использовался CRM.
Рассмотрим два популярных сайта, входящие в топ 12 лучших CRM для агентства недвижимости. Это Real Estate CRM.online 2.0 и INTRUM, узнаем их плюсы и минусы.[<sup>[1.2]</sup>](#sourse_1.2)

**Real Estate CRM.online 2.0**

Плюсы:
- автоматическая выгрузка рекламы освобождает больше половины рабочего времени для риелторов, и им меньше приходится общаться с клиентами;
- cистема фильтрует лишние объявления, и предоставляет только актуальные и качественные коммерческие и жилые объекты недвижимости в аренду или на продажу, содержащие телефоны собственников;
- переведена на разные языки;
- в ней есть настройки бизнес-процессов;

Минусы:
- расходы, связанные с внедрением;
- центр поддержки работает, только в рабочие дни;
- средняя скорость работы;

**INTRUM**

Плюсы:
- а CRM работает с более чем 200 рекламными площадками;
- настройки системы гибкие, можно загружать необходимые бизнес-процессы и функции, и убирать лишние;
- надежная защита баз данных за счет настройки прав доступа для сотрудников, чтобы никто не смог украсть информацию для своих целей или конкурентов;

Минусы:
- медленная скорость работ;
- местами трудные настройки;
- завышенная цена на тарифы;

Смотря на вышесказанные слова, можно понять проблемы данных платформ, и становится сразу понятно, что система "Система учета агентство недвижимости" превосходит их с помощью своей систематизации, быстрой скоростью работы, доступностью.

# 3. Проектирование системы
### 3.1 Проектирование системы <a name="проектирование"></a>
Проектирование состоит из трех этапов. В этом процессе используются основные идеи системного подхода и в полной мере проявляются его преимущества.  

 Разработка начианется с проектрирования USE CASE диаграммы, отображающей основыне лица данной системы: Покупатель, Продавец, Агент по недвижимости(см. Рисунок 1).

<p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146191628-3501d616-e136-42ba-9d6e-5116a944bb56.png"></p>
<p align="center">Рисунок 1 - USE CASE диаграмма</p>
<a name="Systemdesign"/>
 
 После на основе  USE CASE диаграммы создаетя диаграмма DFD (Data Flow Diagrams), которая наглядно отображает течение информации в системе(см. Рисунок 2).
 
 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146193082-2aacc0ac-390c-4bd8-bbb7-e965206a4703.png"></p>
<p align="center">Рисунок 2 - DFD диаграмма</p>
 
 На основе DFD диаграммы создается сущность ER-диаграммы, которая показывает связи в системе.Каждая сущность содержит набор параметров с типами данных(см. Рисунок 3)
  
  <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146194341-a105a8df-5d2b-4a18-9d8b-7ce67dd95072.png"></p>
<p align="center">Рисунок 3 - ER-диаграмма</p>
<a name="Systemdesign"/>

***

### 3.2 Реализация системы <a name="реализация"></a>

Реализация системы  начинается с ER-диаграммы создаются классы. Пример класс "Агент по недвижимости"(см. Листинг 1).

Листинг 1 - Класс "Агент по недвижимости".

```csharp
public class AgencyAccount: IIdentifier
    {
        public int Id { get; set; }
        public int AgencyAccountid { get; set;}
        public int OperationNumber { get; set;}
    {
``` 
<p align="center">

Создав репозитории, опредилим где будет хранится, создается общее хранилище Storages(см. Листинг 2).
 
 Листинг 2 - Общее хранилище.


```csharp
public static class Storages
    {
        public static Storage<AgencyAccount> AgencyAccountStorage { get; } = new();
        public static Storage<Customer> CustomerStorage { get; } = new();
        public static Storage<DescriptionOfTheObject> DescriptionOfTheObjectStorage { get; } = new();
        public static Storage<EstateАgent> EstateАgentStorage { get; } = new();
        public static Storage<LogOfRequestsFor> LogOfRequestsForStorage { get; } = new();
        public static Storage<MonetaryAccounting> MonetaryAccountingStorage { get; } = new();
        public static Storage<RealEstateObject> RealEstateObjectStorage { get; } = new();
        public static Storage<Sale> SaleStorage { get; } = new();
        public static Storage<Seller> SellerStorage { get; } = new();
        public static Storage<Transaction> TransactionStorage { get; } = new();
    }
``` 
<p align="center">

Разработали набор web-методов, включая 4 базисные опрации CRUD, для каждой из сущностей, отображающие предметную область(см. Листинг 3).
 
 Листинг 3 - Контроллер класа "Агент по недвижимости".

```csharp
    public class AgencyAccountController : ControllerBase
    {

        [HttpPut("Create")]
        public bool Create(AgencyAccount agencyAccount)
        {
            return Storages.AgencyAccountStorage.Create(agencyAccount); ;
        }

        [HttpGet("Read")]
        public AgencyAccount Read(int Id)
        {
            return Storages.AgencyAccountStorage.Read(Id);
        }

        [HttpPut("Update")]
        public AgencyAccount Update(AgencyAccount agencyAccount)
        {
            return Storages.AgencyAccountStorage.Update(agencyAccount);
        }

        [HttpDelete("Delete")]
        public bool Delete(int Id)
        {
            return Storages.AgencyAccountStorage.Delete(Id);
        }

        [HttpPost("SaveToFile")]
        public void SaveToFile()
        {
            Storages.AgencyAccountStorage.SaveToXmlFile();
        }

        [HttpGet("ReadFromFile")]
        public void ReadFromFile()
        {
            Storages.AgencyAccountStorage.ReadFromXmlFile();
        }

    }
``` 
<p align="center">

***

# 4. Проверка и тестирование системы

При запуске программы открывается сайт Swagger UI со списком сущностей и операций над ними(см. Рисунок 4).

 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146319959-3631b2ab-2fcd-42f7-9b9d-1dc20433790b.png"></p>
<p align="center">Рисунок 4 - Cайт Swagger UI</p>

 Проверка работы методов CRUD(Create - создание, Read - чтение, Update - обновление, Delete - удаление) в сущности "Агент по недвижимости"(см. рисунок 5).

 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146260057-38095887-4818-4edc-b2d7-cb4e5b1e2056.png"></p>
<p align="center">Рисунок 5 - Проверка работы методов CRUD</p>

 Create позволяет добавлять новые данные в таблицу(см. Рисунок 6).

<p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146317688-5d9cc320-9c15-4a61-93bc-2a4a8d44f292.png"></p>
<p align="center">Рисунок 6 - Проверка работы метода Create </p>

 Вносим изменения в контроллер "Агент по недвижимости" и смотрим результат изменений(см.Рисунок 7).

 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146324455-49ff909b-0bf4-4cf0-bad6-18d966f8e0d0.png"></p>
<p align="center">Рисунок 7 - Результат изменений метода Create </p>
 
 
 2. Метод чтения Read похожа на функцию поиска, посклольку может найти необходимые записи и считывать их значения (см. рисунок 8).
 
 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146325665-86663fa1-c7e6-4f04-b5df-e928e773e273.png"></p>
<p align="center">Рисунок 8 - Метод Read </p>
 
 Считываем данные с уже созданного контроллера "Агента по недвижимости"(см. Рисунок 9)
 
 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146325229-6d86cd92-c4a0-434f-9fcf-521b18d03de9.png"></p>
<p align="center">Рисунок 9 -  Результат поиска метода Read </p>
 
 3. Update и спользуется для изменения существующих записей в базе данных, обновляем записи (см. рисунок 10). 
 
 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146327955-5a5a66c5-622b-414a-8e5e-1e64a22e004a.png"></p>
<p align="center">Рисунок 10 - метод Update </p>
 
 После выполнения операции сервер выдаёт новую информацию(см. рисунок 11).

 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146328342-c6fa9670-e969-4c05-851e-0183d73a1c32.png"></p>
<p align="center">Рисунок 11 - метод Update </p>
 
 Метод Read проверка вышеуказанной операции. После срабатывания сервер выдает новую информацию об контрллере(см. рисунок 12)
 
  <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146328342-c6fa9670-e969-4c05-851e-0183d73a1c32.png"></p>
<p align="center">Рисунок 12 - метод Read совершает проверку</p>
 
 
 4. Метод Delete - используется для удаления записи по Id. Этот метод моежт, false только или true(см. рисунок 13).
 
  <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146328342-c6fa9670-e969-4c05-851e-0183d73a1c32.png"></p>
<p align="center">Рисунок  - 13 метод Delete</p>
 
 После выполнения операции ответ сервера true, значит все прошло успешно(см. рисунок 14).
 
 <p align="center">
<img src="https://user-images.githubusercontent.com/91207739/146328342-c6fa9670-e969-4c05-851e-0183d73a1c32.png"></p>
<p align="center">Рисунок 14 - Результат метода Delete</p>



 <a name="Checkingandtestingthesystem"/>


# Список литературы

<a name="Listofliterature"/>

<a name="sourse_1.1">

[1] Источник данных правил учета недвижимости 2021 года - Режим доступа:https://assistentus.ru/buhuchet/obektov-nedvizhimosti/, свободный (дата обращения 10.12.2021)


<a name="sourse_1.2">

[2] Источник данных сравнительного анализа и описание различных систем недвижимости 2021 года - Режим доступа:https://otzyvmarketing.ru/articles/12-luchshih-crm-dlya-agentstva-nedvizhimosti/, свободный(дата обращения 11.12.2021) 

 [3] Что такое DFD 2017 - Режим доступа:https://habr.com/ru/company/trinion/blog/340064/, свободный (дата обращения 13.12.2021)

[4] Что такое ER - диаграмма и как ее создать 2021, Режим доступа:https://www.lucidchart.com/pages/ru/erd-диаграмма, свободный (дата обращения 14.12.2021)

[5] Что такое CRUD операции 2021 - Режим доступа:https://bestprogrammer.ru/izuchenie/chto-takoe-crud-operatsii, свободный (дата обращения 14.12.2021)

